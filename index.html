<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEEP LOURDES</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Adicionando estilos para os containers de v√≠deo e mapa */
        .video-mapa {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            margin: 30px auto;
            max-width: 1200px;
        }
        
        .video-container, .mapa-container {
            flex: 1;
            min-width: 300px;
            position: relative;
            padding-bottom: 56.25%; /* Propor√ß√£o 16:9 */
            height: 0;
            overflow: hidden;
        }
        
        .video-container iframe, 
        .mapa-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>

<body>
    <header>
        <a href="index.html" class="logo">
            <img src="logo.png" alt="CEEP LOURDES">
        </a>
        <nav>
            <a href="index.html">IN√çCIO</a>
            <a href="#noticias">NOT√çCIAS</a>
            <a href="#escola">NOSSA ESCOLA</a>
            <a href="#cursos">CURSOS</a>            
            <a href="#horario">HOR√ÅRIO DAS TURMAS</a>
            <a href="#agendamento">AGENDAMENTOS</a>
        </nav>
    </header>

    <section class="banner">
        <div class="slideshow-container">
            <div class="mySlides fade">
                <img src="banner.jpg" alt="Banner 1 - CEEP Lourdes">
            </div>
            <div class="mySlides fade">
                <img src="banner2.jpg" alt="Banner 2 - CEEP Lourdes">
            </div>
            
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
        
        <div class="dots-container">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
        </div>
    </section>

    <section class="botoes-linha-unica">
        <a href="https://consultaenova.educacao.ba.gov.br/" class="botao-horizontal" target="_blank">
            <div class="icone">üë®‚Äçüè´</div>
            <div class="texto-botao">ENOVA<br>Consulta professor</div>
        </a>
        
        <a href="https://consultaaluno.educacao.ba.gov.br/" class="botao-horizontal" target="_blank">
            <div class="icone">üë®‚Äçüéì</div>
            <div class="texto-botao">ENOVA<br>Consulta aluno</div>
        </a>
        
        <a href="https://senhaenova.educacao.ba.gov.br/" class="botao-horizontal" target="_blank">
            <div class="icone">üîë</div>
            <div class="texto-botao">ENOVA<br>Recuperar senha</div>
        </a>
        
        <a href="https://siadiante.educacao.ba.gov.br/acesso" class="botao-horizontal" target="_blank">
            <div class="icone">üìù</div>
            <div class="texto-botao">SIADIANTE<br>Atualiza√ß√£o cadastral</div>
        </a>
       
        <a href="https://login.plurall.net/" class="botao-horizontal" target="_blank">
        <div class="icone">üìö</div>
        <div class="texto-botao">PLURALL<br>Acesso √† plataforma</div>
    </a>

    </section>

    <main>
       

        <aside class="ultimas-noticias">
            <h2>√öltimas Not√≠cias</h2>
            <div id="noticias"></div>
            <button id="ver-mais" class="btn-ver-mais" style="display:none;">Ver mais not√≠cias</button>


<!-- ULTIMAS NOT√çCIAS -->
<aside class="ultimas-noticias">
    <div id="noticias"></div>
    <a href="todas-noticias.html" class="btn-ver-mais" style="display:block; text-align:center; margin-top:20px; padding:10px 20px; background:#0c056d; color:white; text-decoration:none; border-radius:5px;">
        Ver mais not√≠cias
    </a>
</aside>

<script>
const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vT7mLbbDjV9ZP1uKkRarE5L3jbpk9NzARPj8xP7DR8p0KfWynqXoySf475LyApPdsv2VrKuWhGLhl2q/pub?output=csv";
const PLACEHOLDER = "https://via.placeholder.com/200x120?text=Not%C3%ADcia";
const LIMITE = 200;

function splitCsvLine(line){
  return line.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(s => s.replace(/^"|"$/g, "").trim());
}

function normalizeImageField(raw){
  if(!raw) return "";
  let s = raw.trim();
  const mdrive = s.match(/https?:\/\/drive\.google\.com\/open\?id=([^&]+)/);
  if(mdrive) return `https://drive.google.com/uc?export=view&id=${mdrive[1]}`;
  return s;
}

function parseDateBR(str){
  if(!str) return null;
  const m = str.match(/^(\d{2})\/(\d{2})\/(\d{4}) (\d{2}):(\d{2}):(\d{2})$/);
  if(m){
    return new Date(+m[3], m[2]-1, +m[1], +m[4], +m[5], +m[6]);
  }
  return new Date(str);
}

function formatDateForDisplay(date){
  return date.toLocaleString('pt-BR', { day:'2-digit', month:'2-digit', year:'numeric', hour:'2-digit', minute:'2-digit' });
}

function escapeHtml(text){
  return String(text || "").replace(/[&<>"']/g, s => ({
    '&':'&amp;', '<':'&lt;', '>':'&gt;', '"':'&quot;', "'":'&#39;'
  }[s]));
}

function cortarTexto(texto, limite) {
  if (texto.length <= limite) return { resumo: texto, restante: "" };
  let corte = texto.lastIndexOf(" ", limite);
  if (corte === -1) corte = limite;
  return {
    resumo: texto.substring(0, corte),
    restante: texto.substring(corte)
  };
}

fetch(url)
  .then(res => res.text())
  .then(csv => {
    const lines = csv.trim().split(/\r?\n/);
    lines.shift();

    let noticias = lines.map(line => {
      const [dataPub, titulo, conteudo, imagemRaw, autor] = splitCsvLine(line);
      const dateObj = parseDateBR(dataPub);
      const imagem = normalizeImageField(imagemRaw) || PLACEHOLDER;
      const partes = cortarTexto(conteudo, LIMITE);
      return {
        titulo,
        dataPub: dateObj ? formatDateForDisplay(dateObj) : dataPub,
        dataOrdenacao: dateObj ? dateObj.getTime() : 0,
        autor,
        imagem,
        resumo: partes.resumo,
        restante: partes.restante
      };
    });

    // Ordena pela data mais recente
    noticias.sort((a, b) => b.dataOrdenacao - a.dataOrdenacao);

    // Pega s√≥ as 3 primeiras
    noticias = noticias.slice(0, 3);

    const html = noticias.map((n, i) => `
      <div style="display:flex; align-items:flex-start; border-bottom:1px solid #ccc; padding:10px 0;">
        <img data-src="${n.imagem}" alt="${escapeHtml(n.titulo)}" style="width:200px; height:120px; object-fit:cover; margin-right:15px;" class="lazy">
        <div>
          <h3 style="margin:0; color:#0c056d;">${escapeHtml(n.titulo)}</h3>
          <small style="color:#555;">${escapeHtml(n.dataPub)}</small>
          <p>
            ${escapeHtml(n.resumo)}<span id="pontos-${i}">...</span>
            <span id="restante-${i}" style="display:none;">${escapeHtml(n.restante)}</span>
            ${n.restante ? `<a href="#" class="ver-mais-link" data-id="${i}" style="color:#0c056d; font-weight:bold;">(ver mais)</a>` : ""}
          </p>
          ${n.autor ? `<p style="font-style:italic;">Autor: ${escapeHtml(n.autor)}</p>` : ""}
        </div>
      </div>
    `).join("");

    document.getElementById("noticias").innerHTML = html;

    document.querySelectorAll(".ver-mais-link").forEach(link => {
      link.addEventListener("click", function(e) {
        e.preventDefault();
        const id = this.dataset.id;
        document.getElementById(`restante-${id}`).style.display = "inline";
        document.getElementById(`pontos-${id}`).style.display = "none";
        this.style.display = "none";
      });
    });

    // Lazy loading das imagens
    const lazyImages = document.querySelectorAll("img.lazy");
    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          img.src = img.dataset.src;
          img.removeAttribute("data-src");
          img.classList.remove("lazy");
          obs.unobserve(img);
        }
      });
    }, { rootMargin: "100px" });

    lazyImages.forEach(img => observer.observe(img));
  })
  .catch(err => {
    console.error(err);
    document.getElementById("noticias").innerHTML = "<p>N√£o foi poss√≠vel carregar as not√≠cias.</p>";
  });
</script>



    <section id="escola" class="escola-moderna">
        <div class="escola-header">
            <h2>SOBRE O CEEP </h2>
        </div>

        <div class="escola-grid">
            <div class="escola-card escola-historia">
                <h3>Funda√ß√£o</h3>
                <p>O Centro Estadual de Educa√ß√£o Profissional em Inform√°tica e Gest√£o Lourdes Carvalho Neves Batista, localizado na Avenida Ant√¥nio Carlos Magalh√£es, n¬∞ 9998, Bairro Mangueira, Munic√≠pio de C√≠cero Dantas ‚Äì BA, foi criada pela portaria de 14905, publicada no Di√°rio Oficial de 10/11/2006.</p>
            </div>

            <div class="escola-card escola-cursos">
                <h3>Cursos oferecidos</h3>
                <div class="cursos-lista">
                    <p>Atualmente a Unidade Escolar oferece o Ensino M√©dio T√©cnico em:</p>
                    
                        <li>Administra√ß√£o</li>
                        <li>Agropecu√°ria</li>
                        <li>Agroneg√≥cio</li>
                        <li>Inform√°tica</li>
                    
                </div>
            </div>

            <div class="escola-card escola-local">
                <h3>Onde estamos</h3>
                <p>Av. Ant√¥nio Carlos Magalh√£es, 9998<br>Bairro: Mangueira<br>CEP: 48.410-000<br>C√≠cero Dantas - BA</p>
                
            </div>
        </div>

        <div class="valores-container">
            <div class="valor-item">
                <h4><span class="valor-icon">üéØ</span> Miss√£o</h4>
                <p>Oferecer educa√ß√£o p√∫blica de qualidade que integre conhecimentos human√≠sticos, cient√≠ficos e tecnol√≥gicos, formando profissionais competentes e cidad√£os √©ticos.</p>
            </div>

            <div class="valor-item">
                <h4><span class="valor-icon">üíé</span> Valores</h4>
                <ul class="valores-lista">
                    <li>Autonomia e responsabilidade</li>
                    <li>Respeito √† diversidade</li>
                    <li>Solidariedade e coopera√ß√£o</li>
                    <li>Comprometimento com a excel√™ncia</li>
                </ul>
            </div>

            <div class="valor-item">
                <h4><span class="valor-icon">üî≠</span> Vis√£o</h4>
                <p>Ser reconhecido como centro de refer√™ncia em educa√ß√£o profissional, inovando em pr√°ticas pedag√≥gicas e formando l√≠deres para o mercado de trabalho.</p>
            </div>
        </div>
        
        <section class="video-mapa">
            <!-- V√≠deo do YouTube -->
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/n7oESkLCmrA" 
                    title="YouTube video player" frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen></iframe>
            </div>

            <!-- Mapa do Google -->
            <div class="mapa-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3960.7898516604095!2d-38.392356!3d-10.608546!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTDCsDM2JzMwLjgiUyAzOMKwMjMnMzIuNSJX!5e0!3m2!1spt-BR!2sbr!4v1692028299000!5m2!1spt-BR!2sbr" 
                    allowfullscreen="" loading="lazy"></iframe>
            </div>
        </section>
    </section>

    <section id="horario">
       <!--O HOR√ÅRIO VAI SER AQUI-->
    </section>

    <section id="agendamento">
        
        <!-- Google Calendar Appointment Scheduling begin -->
<iframe src="https://calendar.google.com/calendar/appointments/schedules/AcZssZ1wRlxEFlmeXzG6jt6ryBGTK6QI3ak9tbC6Ft5BwkZqgtnAECcHjoWuu7_sIz6YY4NCvlpvaeuT?gv=true" style="border: 0" width="100%" height="600" frameborder="0"></iframe>
<!-- end Google Calendar Appointment Scheduling -->
    </section>

   <!-- Rodap√© -->
<footer>
    <div class="footer-content">
        <p>¬© 2025 CEEP Lourdes Carvalho - Todos os direitos reservados</p>
        <div class="social-icons">
            <a href="https://www.instagram.com/ceeplourdes/" target="_blank">
                <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram">
            </a>
            <a href="https://api.whatsapp.com/message/GAJNXSJ3HNGLE1?autoload=1&app_absent=0" target="_blank">
                <img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="WhatsApp">
            </a>
            <a href="https://www.facebook.com/lourdes.carvalho.1441/?_rdr" target="_blank">
                <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook">
            </a>
            <a href="https://www.youtube.com/@ceeplourdes" target="_blank">
                <img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube">
            </a>
        </div>
    </div>
</footer>

<style>
    footer {
        background-color: #0c056d;
        color: white;
        padding: 15px 80px;
        margin-top: 40px;
        
    }

    .footer-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
    }

    .social-icons a {
        margin-left: 10px;
        display: inline-block;
    }

    .social-icons img {
        width: 28px;
        height: 28px;
        transition: transform 0.3s;
    }

    .social-icons img:hover {
        transform: scale(1.2);
    }
</style>



    <script src="script.js"></script>
</body>
</html>